#! <?xml version="1.0" encoding="utf-8" ?>
#! <TRANSFORMER
# TRANSFORMER_BEGIN DataBC_NTimes_Looper,1,"FME Server",a2074de0-aa4d-4ffd-b5d4-b18d03e7889b,"Embedded Always",No,NO_PARALLELISM,,No,15538,YES,No
# <p style="-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;">
#     <br/>
# </p>
# 
# TRANSFORMER_END
#! HISTORY=""
#! CATEGORY="FME Server"
#! LEGAL_TERMS_CONDITIONS="&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;&#10;    &lt;br/&gt;&#10;&lt;/p&gt;&#10;"
#! DOC_EXTENTS="1812.03 217.503"
#! SHOW_INFO_NODES="true"
#! ZOOM_SCALE="100"
#! USAGE="&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;&#10;    &lt;br/&gt;&#10;&lt;/p&gt;&#10;"
#! TITLE="DataBC_NTimes_Looper"
#! FMX_INSERT_MODE="Embedded Always"
#! FME_SERVER_SERVICES=""
#! WARN_INVALID_XFORM_PARAM="Yes"
#! VIEW_POSITION="-12.0001 6.00006"
#! FME_PROCESS_GROUPS_ORDERED="No"
#! SHOW_ANNOTATIONS="true"
#! FME_DOCUMENT_PRIORGUID="e18ac177-87d9-4af5-a339-0658ccbf303e,9048ea2f-f143-4799-9361-5492073dd0a8"
#! ATTR_TYPE_ENCODING="SDF"
#! DESCRIPTION="&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;&#10;    &lt;br/&gt;&#10;&lt;/p&gt;&#10;"
#! REQUIREMENTS_KEYWORD="none"
#! FME_DOCUMENT_GUID="a2074de0-aa4d-4ffd-b5d4-b18d03e7889b"
#! ITERATION_COUNT_ATTR=""
#! MAX_LOOP_ITERATIONS=""
#! REQUIREMENTS="&lt;p style=&quot;-qt-paragraph-type:empty; margin-top:0px; margin-bottom:0px; margin-left:0px; margin-right:0px; -qt-block-indent:0; text-indent:0px;&quot;&gt;&#10;    &lt;br/&gt;&#10;&lt;/p&gt;&#10;"
#! WORKSPACE_VERSION="1"
#! FME_LINKED_TRANSFORMER_VERSION="1"
#! FME_PROCESS_GROUP_BY=""
#! LAST_SAVE_DATE="2018-04-24T10:22:40"
#! LAST_SAVE_BUILD="FME(R) 2015.1.2.0 (20150911 - Build 15538 - WIN32)"
#! PASSWORD=""
#! BLOCKED_LOOPING="No"
#! FME_BUILD_NUM="15538"
#! FME_PROCESS_COUNT="NO_PARALLELISM"
#! DOC_TOP_LEFT="271.001 -455.504"
#! XFORM_DEPRECATED="No"
#! >
#! <DATASETS>
#! </DATASETS>
#! <DATA_TYPES>
#! </DATA_TYPES>
#! <GEOM_TYPES>
#! </GEOM_TYPES>
#! <FEATURE_TYPES>
#! </FEATURE_TYPES>
#! <FMESERVER>
#! </FMESERVER>
#! <GLOBAL_PARAMETERS>
#! <GLOBAL_PARAMETER
#! GUI_LINE="GUI TEXT_EDIT_OR_NUM_OR_ATTR _NUMFEATURESOUTPUT Numfeaturesoutput:"
#! DEFAULT_VALUE="&lt;at&gt;Value&lt;openparen&gt;_numFeaturesOutput&lt;closeparen&gt;"
#! IS_STAND_ALONE="false"
#! />
#! </GLOBAL_PARAMETERS>
#! <COMMENTS>
#! </COMMENTS>
#! <CONSTANTS>
#! </CONSTANTS>
#! <BOOKMARKS>
#! </BOOKMARKS>
#! <TRANSFORMERS>
#! <TRANSFORMER
#! IDENTIFIER="3"
#! TYPE="Counter"
#! VERSION="2"
#! POSITION="925.509 -238.001"
#! BOUNDING_RECT="925.509 -238.001 -1 -1"
#! ORDER="5e+014"
#! PARMS_EDITED="false"
#! ENABLED="true"
#! LAST_PARM_EDIT="15538"
#! >
#! <OUTPUT_FEAT NAME="OUTPUT"/>
#! <FEAT_COLLAPSED COLLAPSED="0"/>
#! <XFORM_ATTR ATTR_NAME="_numFeaturesOutput" IS_USER_CREATED="false" FEAT_INDEX="0" />
#! <XFORM_ATTR ATTR_NAME="_count" IS_USER_CREATED="false" FEAT_INDEX="0" />
#! <XFORM_PARM PARM_NAME="PARAMETERS_GROUP" PARM_VALUE=""/>
#! <XFORM_PARM PARM_NAME="CNT_ATTR" PARM_VALUE="_count"/>
#! <XFORM_PARM PARM_NAME="DOMAIN" PARM_VALUE="counter"/>
#! <XFORM_PARM PARM_NAME="SCOPE" PARM_VALUE="Global"/>
#! <XFORM_PARM PARM_NAME="START" PARM_VALUE="0"/>
#! <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="Counter"/>
#! <XFORM_PARM PARM_NAME="TRANSFORMER_GROUP" PARM_VALUE=""/>
#! </TRANSFORMER>
#! <TRANSFORMER
#! IDENTIFIER="5"
#! TYPE="Tester"
#! VERSION="2"
#! POSITION="1498.51 -238.001"
#! BOUNDING_RECT="1498.51 -238.001 -1 -1"
#! ORDER="5e+014"
#! PARMS_EDITED="true"
#! ENABLED="true"
#! LAST_PARM_EDIT="15538"
#! >
#! <OUTPUT_FEAT NAME="PASSED"/>
#! <FEAT_COLLAPSED COLLAPSED="0"/>
#! <XFORM_ATTR ATTR_NAME="_numFeaturesOutput" IS_USER_CREATED="false" FEAT_INDEX="0" />
#! <XFORM_ATTR ATTR_NAME="_count" IS_USER_CREATED="false" FEAT_INDEX="0" />
#! <OUTPUT_FEAT NAME="FAILED"/>
#! <FEAT_COLLAPSED COLLAPSED="1"/>
#! <XFORM_ATTR ATTR_NAME="_numFeaturesOutput" IS_USER_CREATED="false" FEAT_INDEX="1" />
#! <XFORM_ATTR ATTR_NAME="_count" IS_USER_CREATED="false" FEAT_INDEX="1" />
#! <XFORM_PARM PARM_NAME="COMPOSITE_TEST" PARM_VALUE="&lt;Unused&gt;"/>
#! <XFORM_PARM PARM_NAME="XFORMER_NAME" PARM_VALUE="Tester"/>
#! <XFORM_PARM PARM_NAME="TEST_LIST" PARM_VALUE=""/>
#! <XFORM_PARM PARM_NAME="TEST_CLAUSE" PARM_VALUE="TEST &lt;at&gt;Value&lt;openparen&gt;_count&lt;closeparen&gt; &lt;= &lt;at&gt;Value&lt;openparen&gt;_numFeaturesOutput&lt;closeparen&gt;"/>
#! <XFORM_PARM PARM_NAME="BOOL_OP" PARM_VALUE="OR"/>
#! <XFORM_PARM PARM_NAME="TEST_DESCRIPTION" PARM_VALUE="&quot;&quot;"/>
#! <XFORM_PARM PARM_NAME="TEST_MODE" PARM_VALUE="Automatic"/>
#! </TRANSFORMER>
#! </TRANSFORMERS>
#! <SUBDOCUMENT_IOS>
#! <SUBDOCUMENT_IO
#! IDENTIFIER="1"
#! NAME="Input"
#! POSITION="271.001 -238.001"
#! BOUNDING_RECT="271.001 -238.001 -1 -1"
#! COLLAPSED="true"
#! PUBLISHED="true"
#! IS_SOURCE="true"
#! ATTR_MODE="0"
#! >
#! <XFORM_ATTR ATTR_NAME="_numFeaturesOutput" ATTR_VALUE="$(_NUMFEATURESOUTPUT)" />
#! </SUBDOCUMENT_IO>
#! <SUBDOCUMENT_IO
#! IDENTIFIER="2"
#! NAME="Output"
#! POSITION="2083.03 -238.001"
#! BOUNDING_RECT="2083.03 -238.001 -1 -1"
#! COLLAPSED="true"
#! IS_SOURCE="false"
#! ATTR_MODE="0"
#! >
#! </SUBDOCUMENT_IO>
#! <SUBDOCUMENT_IO
#! IDENTIFIER="7"
#! NAME="Input"
#! POSITION="2083.03 -455.504"
#! BOUNDING_RECT="2083.03 -455.504 -1 -1"
#! COLLAPSED="true"
#! IS_SOURCE="loop"
#! ATTR_MODE="0"
#! >
#! </SUBDOCUMENT_IO>
#! </SUBDOCUMENT_IOS>
#! <FEAT_LINKS>
#! <FEAT_LINK
#! IDENTIFIER="4"
#! SOURCE_NODE="1"
#! TARGET_NODE="3"
#! SOURCE_PORT_DESC="0"
#! TARGET_PORT_DESC="fi 0"
#! ENABLED="true"
#! EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#! IDENTIFIER="6"
#! SOURCE_NODE="3"
#! TARGET_NODE="5"
#! SOURCE_PORT_DESC="fo 0"
#! TARGET_PORT_DESC="fi 0"
#! ENABLED="true"
#! EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#! IDENTIFIER="9"
#! SOURCE_NODE="5"
#! TARGET_NODE="2"
#! SOURCE_PORT_DESC="fo 0"
#! TARGET_PORT_DESC="0"
#! ENABLED="true"
#! EXTRA_POINTS=""
#! />
#! <FEAT_LINK
#! IDENTIFIER="10"
#! SOURCE_NODE="5"
#! TARGET_NODE="7"
#! SOURCE_PORT_DESC="fo 0"
#! TARGET_PORT_DESC="0"
#! ENABLED="true"
#! EXTRA_POINTS=""
#! />
#! </FEAT_LINKS>
#! <BREAKPOINTS>
#! </BREAKPOINTS>
#! <ATTR_LINKS>
#! </ATTR_LINKS>
#! <SUBDOCUMENTS>
#! </SUBDOCUMENTS>
#! <LOOKUP_TABLES>
#! </LOOKUP_TABLES>
#! </TRANSFORMER>
#! 
DEFAULT_MACRO $(DataBC_NTimes_Looper_WORKSPACE_NAME)__NUMFEATURESOUTPUT <at>Value<openparen>_numFeaturesOutput<closeparen>
#! START_HEADER
#! END_HEADER

LOG_FILTER_MASK -1
DEFAULT_MACRO WB_CURRENT_CONTEXT
DEFAULT_MACRO DataBC_NTimes_Looper_WORKSPACE_NAME ""
INCLUDE [puts {MACRO WB_OLD_CONTEXT_$(DataBC_NTimes_Looper_WORKSPACE_NAME) $(WB_CURRENT_CONTEXT)};          puts {MACRO WB_CURRENT_CONTEXT $(DataBC_NTimes_Looper_WORKSPACE_NAME)}]
FACTORY_DEF * TeeFactory   FACTORY_NAME "$(DataBC_NTimes_Looper_WORKSPACE_NAME)_Input1524590560 Input Splitter"   INPUT FEATURE_TYPE "$(DataBC_NTimes_Looper_WORKSPACE_NAME)_Input"   OUTPUT FEATURE_TYPE "$(DataBC_NTimes_Looper_WORKSPACE_NAME)_Input" "@EvaluateExpression(ATTR_CREATE_EXPR_PROPAGATE_MISSING_FDIV,_numFeaturesOutput,$($(DataBC_NTimes_Looper_WORKSPACE_NAME)__NUMFEATURESOUTPUT), FEATURE_TYPE)"
# -------------------------------------------------------------------------

Tcl2 proc $(DataBC_NTimes_Looper_WORKSPACE_NAME)_Counter_b1acd0c0_5223_4d93_b69a_26edda90a98f0_createDomain { in_domainName } {    set domainName $in_domainName;    if { {Global} == {Local} }    {       set xFormName [FME_EncodeText {$(DataBC_NTimes_Looper_WORKSPACE_NAME)_Counter_}];       set domainName $xFormName$domainName;    };    return $domainName; }

FACTORY_DEF * TeeFactory    FACTORY_NAME $(DataBC_NTimes_Looper_WORKSPACE_NAME)_Counter    INPUT  FEATURE_TYPE "$(DataBC_NTimes_Looper_WORKSPACE_NAME)_Input"    OUTPUT FEATURE_TYPE "$(DataBC_NTimes_Looper_WORKSPACE_NAME)_Counter_OUTPUT"         "_count" @Count(fme_encoded,@Tcl2("$(DataBC_NTimes_Looper_WORKSPACE_NAME)_Counter_b1acd0c0_5223_4d93_b69a_26edda90a98f0_createDomain {counter}"), "0")

# -------------------------------------------------------------------------

FACTORY_DEF * TestFactory    FACTORY_NAME $(DataBC_NTimes_Looper_WORKSPACE_NAME)_Tester    INPUT  FEATURE_TYPE "$(DataBC_NTimes_Looper_WORKSPACE_NAME)_Counter_OUTPUT"    TEST @EvaluateExpression(FDIV,STRING_ENCODED,<at>Value<openparen>_count<closeparen>,$(DataBC_NTimes_Looper_WORKSPACE_NAME)_Tester) <= @EvaluateExpression(FDIV,STRING_ENCODED,<at>Value<openparen>_numFeaturesOutput<closeparen>,$(DataBC_NTimes_Looper_WORKSPACE_NAME)_Tester) ENCODED    BOOLEAN_OPERATOR OR    OUTPUT PASSED FEATURE_TYPE "$(DataBC_NTimes_Looper_WORKSPACE_NAME)_Tester_PASSED"
FACTORY_DEF * TeeFactory   FACTORY_NAME "$(DataBC_NTimes_Looper_WORKSPACE_NAME)_Tester PASSED Splitter"   INPUT FEATURE_TYPE "$(DataBC_NTimes_Looper_WORKSPACE_NAME)_Tester_PASSED"   OUTPUT FEATURE_TYPE "$(DataBC_NTimes_Looper_WORKSPACE_NAME)_Tester_PASSED_0_9eJAJOUsD6Y="   OUTPUT FEATURE_TYPE "$(DataBC_NTimes_Looper_WORKSPACE_NAME)_Tester_PASSED_1_9eJAJOUsD6Y="
FACTORY_DEF * BranchingFactory   TARGET_FACTORY "$(DataBC_NTimes_Looper_WORKSPACE_NAME)_Input1524590560 Input Splitter"   FACTORY_NAME "Loop to $(DataBC_NTimes_Looper_WORKSPACE_NAME)_Input1524590560 Input Splitter"   MAXIMUM_COUNT -1   INPUT FEATURE_TYPE "$(DataBC_NTimes_Looper_WORKSPACE_NAME)_Tester_PASSED_1_9eJAJOUsD6Y="   OUTPUT PASSED FEATURE_TYPE "$(DataBC_NTimes_Looper_WORKSPACE_NAME)_Input"
FACTORY_DEF * TeeFactory   FACTORY_NAME "$(DataBC_NTimes_Looper_WORKSPACE_NAME)_Output1524590560 Output Collector"   INPUT FEATURE_TYPE "$(DataBC_NTimes_Looper_WORKSPACE_NAME)_Tester_PASSED_0_9eJAJOUsD6Y="   OUTPUT FEATURE_TYPE "$(DataBC_NTimes_Looper_WORKSPACE_NAME)_Output"
INCLUDE [puts {MACRO WB_CURRENT_CONTEXT $(WB_OLD_CONTEXT_$(DataBC_NTimes_Looper_WORKSPACE_NAME))}]
